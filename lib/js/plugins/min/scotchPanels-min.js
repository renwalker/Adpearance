!function($){"use strict";var t=[],e=!1,s=!1,n=!1,i={containerSelector:"body",type:"html",direction:"top",duration:300,transition:"ease",easingPluginTransition:"easeInCirc",useCSS:!0,useEasingPlugin:!1,imageURL:!1,iframeURL:!1,autoPlayVideo:!0,youtubeID:!1,youTubeTheme:"light",distanceX:"70%",forceMinHeight:!1,minHeight:"200px",closeAfter:0,startOpened:!1,startOpenedDelay:0,clickSelector:!1,enableEscapeKey:!0,hoverSelector:!1,touchSelector:!1,beforePanelOpen:function(){},afterPanelOpen:function(){},beforePanelClose:function(){},afterPanelClose:function(){}};$.fn.scotchPanel=function(a){if("undefined"==typeof a&&(a={}),0===this.length)return this;if(this.length>1)return this.each(function(){t.push($(this).scotchPanel(a))}),t.open=function(){for(var e=0;e<t.length;e++)t[e].open()},t.close=function(){for(var e=0;e<t.length;e++)t[e].close()},t.toggle=function(){for(var e=0;e<t.length;e++)t[e].toggle()},t;var o={};o=this;var r=function(){e||(e=!0,s=l.transition(),n=l.translate3d());for(var t in i)i.hasOwnProperty(t)&&o.attr("data-"+t.toLowerCase())&&(a[t]=o.data(t.toLowerCase()));o.settings=$.extend({},i,a),c()},c=function(){var t=$(o.settings.containerSelector);t.hasClass("scotchified")||t.wrapInner('<div class="scotch-panel-wrapper"><div class="scotch-panel-canvas"></div></div>').addClass("scotchified"),$(".scotch-panel-wrapper").css({position:"relative",overflow:"hidden",width:"100%"}),$(".scotch-panel-canvas").css({position:"relative",height:"100%",width:"100%"}),o.settings.useCSS&&$(".scotch-panel-canvas").css({"-moz-transform":"translate3d(0, 0, 0)","-ms-transform":"translate3d(0, 0, 0)","-o-transform":"translate3d(0, 0, 0)","-webkit-transform":"translate3d(0, 0, 0)",transform:"translate3d(0, 0, 0)","-moz-backface-visibility":"hidden","-ms-backface-visibility":"hidden","-o-backface-visibility":"hidden","-webkit-backface-visibility":"hidden","backface-visibility":"hidden"}),"top"==o.settings.direction&&(o.height=o.height(),o.addClass("scotch-panel-top"),o.css({bottom:"100%",left:"0",width:"100%",position:"absolute","z-index":"888888",overflow:"hidden"})),"bottom"==o.settings.direction&&(o.height=o.height(),o.addClass("scotch-panel-bottom"),o.css({top:"100%",left:"0",width:"100%",position:"absolute","z-index":"888888",overflow:"hidden"})),"left"==o.settings.direction&&(o.addClass("scotch-panel-left"),o.css({top:"0",left:"-"+o.settings.distanceX,width:o.settings.distanceX,height:"100%",position:"absolute","z-index":"888888",overflow:"hidden"})),"right"==o.settings.direction&&(o.addClass("scotch-panel-right"),o.css({top:"0",right:"-"+o.settings.distanceX,width:o.settings.distanceX,height:"100%",position:"absolute","z-index":"888888",overflow:"hidden"})),o.css({"-moz-backface-visibility":"hidden","-ms-backface-visibility":"hidden","-o-backface-visibility":"hidden","-webkit-backface-visibility":"hidden","backface-visibility":"hidden"}),"image"==o.settings.type&&o.settings.imageURL&&(o.css({"-o-background-size":"cover","-ms-background-size":"cover","-moz-background-size":"cover","-webkit-background-size":"cover","background-size":"cover","background-position":"50% 0","background-repeat":"no-repeat","background-image":"url("+o.settings.imageURL+")"}),("top"==o.settings.direction||"bottom"==o.settings.direction)&&(o.css("min-height",o.settings.minHeight),o.height=$(o).height())),"iframe"==o.settings.type&&o.settings.iframeURL&&(o.iframeIsLoaded=!1,o.append('<iframe frameborder="0" style="width: 100%; height: 100%; display: block; position: relative; min-height: '+o.settings.minHeight+'" allowfullscreen></iframe>'),("top"==o.settings.direction||"bottom"==o.settings.direction)&&(o.height=$(o).height())),"video"==o.settings.type&&o.settings.youtubeID&&(o.append('<div id="video-id-'+o.settings.youtubeID+'" style="min-height: '+o.settings.minHeight+'; display: block !important;"><iframe src="//www.youtube.com/embed/'+o.settings.youtubeID+"?enablejsapi=1&theme="+o.settings.youTubeTheme+'" frameborder="0" style="width: 100%; height: 100%; display: block; position: absolute; left: 0; top: 0;" allowfullscreen></iframe></div>'),("top"==o.settings.direction||"bottom"==o.settings.direction)&&(o.height=$(o).height())),s&&n&&d(o.settings.transition,o.settings.duration),o.settings.startOpened&&setTimeout(function(){o.open()},o.settings.startOpenedDelay),0!=o.settings.closeAfter&&setTimeout(function(){o.close()},o.settings.closeAfter)},l={transition:function(){if(!window.getComputedStyle)return!1;var t=document.body||document.documentElement,e=t.style,s="transition";if("string"==typeof e[s])return!0;var n=["Moz","webkit","Webkit","Khtml","O","ms"];s=s.charAt(0).toUpperCase()+s.substr(1);for(var i=0;i<n.length;i++)if("string"==typeof e[n[i]+s])return!0;return!1},translate3d:function(){if(!window.getComputedStyle)return!1;var t,e;return t=document.createElement("p"),t.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)",t.style.margin="0",document.body.insertBefore(t,document.body.lastChild),e=window.getComputedStyle(t).getPropertyValue("transform"),void 0!==e?"none"!==e:!1}},g=function(t,e){var s=document.getElementById(t),n=s.getElementsByTagName("iframe")[0].contentWindow;s.style.display="hide"==e?"none":"";var i="hide"==e?"pauseVideo":"playVideo";n.postMessage('{"event":"command","func":"'+i+'","args":""}',"*"),s.style.display="block"},d=function(t,e){o.parents(".scotch-panel-canvas:first").css({"-ms-transition":"all "+e+"ms "+t,"-moz-transition":"all "+e+"ms "+t,"-o-transition":"all "+e+"ms "+t,"-webkit-transition":"all "+e+"ms "+t,transition:"all "+e+"ms "+t})},h=function(t){o.settings.forceMinHeight&&o.parents(".scotch-panel-canvas:first").css("min-height",t),s&&n&&o.settings.useCSS?(o.parents(".scotch-panel-canvas:first").hasClass("scotch-is-showing")?o.settings.beforePanelOpen():o.settings.beforePanelClose(),o.parents(".scotch-panel-canvas:first").css({"-ms-transform":"translate3d(0, "+t+"px, 0)","-moz-transform":"translate3d(0, "+t+"px, 0)","-o-transform":"translate3d(0, "+t+"px, 0)","-webkit-transform":"translate3d(0, "+t+"px, 0)",transform:"translate3d(0, "+t+"px, 0)"}),setTimeout(function(){o.parents(".scotch-panel-canvas:first").hasClass("scotch-is-showing")?o.settings.afterPanelOpen():o.settings.afterPanelClose()},o.settings.duration)):(o.parents(".scotch-panel-canvas:first").hasClass("scotch-is-showing")?o.settings.beforePanelOpen():o.settings.beforePanelClose(),o.settings.useEasingPlugin?o.parents(".scotch-panel-canvas:first").animate({top:t+"px"},{duration:o.settings.duration,easing:o.settings.easingPluginTransition,complete:function(){o.parents(".scotch-panel-canvas:first").hasClass("scotch-is-showing")?o.settings.afterPanelOpen():o.settings.afterPanelClose()}}):o.parents(".scotch-panel-canvas:first").animate({top:t+"px"},o.settings.duration,function(){o.parents(".scotch-panel-canvas:first").hasClass("scotch-is-showing")?o.settings.afterPanelOpen():o.settings.afterPanelClose()}))},f=function(t){s&&n&&o.settings.useCSS?(o.parents(".scotch-panel-canvas:first").hasClass("scotch-is-showing")?o.settings.beforePanelOpen():o.settings.beforePanelClose(),o.parents(".scotch-panel-canvas:first").css({"-ms-transform":"translate3d("+t+", 0, 0)","-moz-transform":"translate3d("+t+", 0, 0)","-o-transform":"translate3d("+t+", 0, 0)","-webkit-transform":"translate3d("+t+", 0, 0)",transform:"translate3d("+t+", 0, 0)"}),setTimeout(function(){o.parents(".scotch-panel-canvas:first").hasClass("scotch-is-showing")?o.settings.afterPanelOpen():o.settings.afterPanelClose()},o.settings.duration)):(o.parents(".scotch-panel-canvas:first").hasClass("scotch-is-showing")?o.settings.beforePanelOpen():o.settings.beforePanelClose(),o.settings.useEasingPlugin?o.parents(".scotch-panel-canvas:first").animate({left:t},{duration:o.settings.duration,easing:o.settings.easingPluginTransition,complete:function(){o.parents(".scotch-panel-canvas:first").hasClass("scotch-is-showing")?o.settings.afterPanelOpen():o.settings.afterPanelClose()}}):o.parents(".scotch-panel-canvas:first").animate({left:t},o.settings.duration,function(){o.parents(".scotch-panel-canvas:first").hasClass("scotch-is-showing")?o.settings.afterPanelOpen():o.settings.afterPanelClose()}))};return o.open=function(){o.parents(".scotch-panel-canvas:first").addClass("scotch-is-showing"),"iframe"==o.settings.type&&o.settings.iframeURL&&!o.iframeIsLoaded&&(o.iframeIsLoaded=!0,o.find("iframe").attr("src",o.settings.iframeURL)),"video"==o.settings.type&&o.settings.youtubeID&&o.settings.autoPlayVideo&&g("video-id-"+o.settings.youtubeID,""),"top"==o.settings.direction&&h(o.height),"bottom"==o.settings.direction&&h("-"+o.height),"left"==o.settings.direction&&f(o.settings.distanceX),"right"==o.settings.direction&&f("-"+o.settings.distanceX)},o.close=function(){o.parents(".scotch-panel-canvas:first").removeClass("scotch-is-showing"),setTimeout(function(){"video"==o.settings.type&&o.settings.youtubeID&&o.settings.autoPlayVideo&&g("video-id-"+o.settings.youtubeID,"hide")},o.settings.duration),("top"==o.settings.direction||"bottom"==o.settings.direction)&&h(0),("left"==o.settings.direction||"right"==o.settings.direction)&&f(0)},o.toggle=function(){o.parents(".scotch-panel-canvas:first").hasClass("scotch-is-showing")?o.close():o.open()},r(),$(document).keyup(function(t){27==t.keyCode&&o.settings.enableEscapeKey&&o.close()}),o.settings.hoverSelector&&$(o.settings.hoverSelector).hover(function(){o.open()},function(){o.close()}),o.settings.clickSelector&&$(o.settings.clickSelector).click(function(){return o.toggle(),!1}),o.settings.touchSelector&&$(o.settings.touchSelector).on("touchstart",function(){return o.toggle(),!1}),o}}(jQuery);